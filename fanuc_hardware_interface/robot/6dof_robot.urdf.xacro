<?xml version="1.0" ?>
<robot name="$(arg robot_model)" xmlns:xacro="http://wiki.ros.org/xacro">

  <xacro:arg name="robot_model" default="$(arg robot_model)"/>
  <xacro:arg name="robot_series" default="$(arg robot_series)"/>
  <xacro:arg name="robot_ip" default="$(arg robot_ip)"/>
  <xacro:arg name="rmi_port" default="16001"/>
  <xacro:arg name="stream_motion_port" default="60015"/>
  <xacro:arg name="gpio_configuration" default=""/>
  <xacro:arg name="payload_schedule" default="1"/>
  <xacro:arg name="out_cmd_interp_buff_target" default="8"/>
  <xacro:arg name="use_mock" default="false"/>

  <xacro:property name="tmpaaa" default="fanuc_$(arg robot_series)_description"/>

  <xacro:include filename="$(find ${tmpaaa})/urdf/$(arg robot_model)_urdf_macro.xacro"/>
  <xacro:if value="$(arg use_mock)">
    <xacro:include filename="$(find fanuc_hardware_interface)/config/6dof_robot_mock_ros2_control_macro.xacro"/>
  </xacro:if>
  <xacro:unless value="$(arg use_mock)">
    <xacro:include filename="$(find fanuc_hardware_interface)/config/6dof_robot_physical_ros2_control_macro.xacro"/>
  </xacro:unless>

  <link name="world"/>
  <link name="end_effector"/>
  <xacro:call macro="$(arg robot_model)" parent="world" child="end_effector">
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </xacro:call>

  <xacro:robot_control name="$(arg robot_model)"/>
</robot>
